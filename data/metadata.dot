digraph graphname {
    newrank = true;
    size="26,10";
    rankdir="LR";
    splines=ortho;
    graph [fontname = "sans"];
    node [fontname = "sans", style=filled];
    edge [fontname = "sans", color=gray50];
    d_[label="Sharing", style="bold, rounded", color="#BBBBBB"];
    e_[label="Sharing", style="bold, rounded", color="#BBBBBB"];
    f_[label="Sharing", style="bold, rounded", color="#BBBBBB"];
    g_[label="Sharing", style="bold, rounded", color="#BBBBBB"];
    a[label="Analog  ", shape=cds, color="#BBBBBB", fillcolor=grey93, fontcolor="#999998"];
    m0[label="Manual  ", shape=cds, color="#BBBBBB", fillcolor=grey93, fontcolor="#999998"];
    b[label="FID", shape=folder, color="#BBBBBB", fillcolor=grey93];
    m1[
        label=<<FONT COLOR="#45B000">Metadata</FONT>>,
        shape=folder, color="#BBBBBB", fillcolor=grey93,
        ];
    c[label="2D Reconstruction\n(optional)", shape=folder, color="#BBBBBB", fillcolor=grey93];
    d[  label=<Raw Volumetric<BR/><FONT COLOR="#45B000">+Metadata</FONT>>,
        shape=folder, color="#BBBBBB", fillcolor=grey93,
        ];
    e[
        label=<Preprocessed Volumetric<BR/><FONT COLOR="#45B000">+Metadata</FONT>>,
        shape=folder, color="#BBBBBB", fillcolor=grey93,
        ];
    f[
        label=<Volumetric Statistic<BR/><FONT COLOR="#45B000">+Metadata</FONT>>,
        shape=folder, color="#BBBBBB", fillcolor=grey93,
        ];
    g[label="Plot or Summary", shape=folder, color="#BBBBBB", fillcolor=grey93];
    a -> b ;
    m0 -> m1 ;
    subgraph cluster1 {
        b -> c ;
        m1;
        label = "Acquisition System";
        fontcolor = "#1873cc";
        color = "#1b81e5";
    }
    c -> d ;
    m1 -> d;
    subgraph cluster2 {
        d -> e ;
        e -> f ;
        f -> g ;
        label = "Analysis System";
        fontcolor = "#DE9A00";
        color = "#EDA000";
    }
    d -> d_ [dir=both, minlen=2];
    e -> e_ [dir=both, minlen=2];
    f -> f_ [dir=both, minlen=2];
    g -> g_ [minlen=2];
    {rank=same; a; m0}
    {rank=same; d; d_}
    {rank=same; e; e_}
    {rank=same; f; f_}
    {rank=same; g; g_}
}
