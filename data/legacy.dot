digraph legacy_work{
  graph [pad="0.07", nodesep="0.1", ranksep="0.25"];
  node [fontname = "sans", style="filled,rounded", shape="box"];
  edge [fontname = "sans", color=gray80];
  legacy_work_get_f_scan[label="Identify Functional Scan", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_dummy_scans[label="Correct Dummy Scans", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_f_resize[label="Resize Images", color="#DDDDDD", fillcolor=grey95, fontcolor="#F00533"];
  legacy_work_f_deleteorient[label="Delete Orientations", color="#DDDDDD", fillcolor=grey95, fontcolor="#F00533"];
  legacy_work_f_swapdim[label="Swap Dimensions", color="#DDDDDD", fillcolor=grey95, fontcolor="#F00533"];
  legacy_work_slicetimer[label="Correct Slice Times", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_temporal_mean[label="Average over Time", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_f_percentile[label="Calculate Percentile", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_f_threshold[label="Threshold based on Percentile", color="#DDDDDD", fillcolor=grey95, fontcolor="#F00533"];
  legacy_work_f_fast[label="Correct Bias Field", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_f_BET[label="Extract Brain", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_ants_introduction[label="Register to Template (human-optimized)", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_warp_merge[label="Compute Transform", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_f_warp[label="Transform", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_f_copysform2qform[label="Copy S-Form to Q-Form", color="#DDDDDD", fillcolor=grey95, fontcolor="#F00533"];
  legacy_work_f_rename[label="Rename", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_events_file[label="Adjust Events-File", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  legacy_work_datasink[label="Save Data", color="#DDDDDD", fillcolor=grey95, fontcolor="#555555"];
  d[
      label=<Raw Volumetric<BR/><FONT COLOR="#45B000">+Metadata</FONT>>,
      shape=folder, color="#BBBBBB", fillcolor=grey93,
      ];
  e[
      label=<Preprocessing Volumetric<BR/><FONT COLOR="#F00533">Metadata?</FONT>>,
      shape=folder, color="#F00533", fillcolor=grey93,
      ];
  d -> legacy_work_get_f_scan [arrowhead=none, arrowsize=0.9, penwidth=4, color="#DE9A00"];
  legacy_work_get_f_scan -> legacy_work_dummy_scans;
  legacy_work_get_f_scan -> legacy_work_f_rename;
  legacy_work_get_f_scan -> legacy_work_datasink;
  legacy_work_get_f_scan -> legacy_work_events_file [style="invis"];
  legacy_work_get_f_scan -> legacy_work_events_file;
  legacy_work_dummy_scans -> legacy_work_events_file;
  legacy_work_dummy_scans -> legacy_work_f_resize;
  legacy_work_f_resize -> legacy_work_f_deleteorient;
  legacy_work_f_deleteorient -> legacy_work_f_swapdim;
  legacy_work_f_swapdim -> legacy_work_slicetimer;
  legacy_work_slicetimer -> legacy_work_temporal_mean;
  legacy_work_slicetimer -> legacy_work_f_warp;
  legacy_work_temporal_mean -> legacy_work_f_percentile;
  legacy_work_temporal_mean:w -> legacy_work_f_threshold;
  legacy_work_f_percentile -> legacy_work_f_threshold;
  legacy_work_f_threshold -> legacy_work_f_fast;
  legacy_work_f_fast -> legacy_work_f_BET;
  legacy_work_f_BET -> legacy_work_ants_introduction;
  legacy_work_ants_introduction -> legacy_work_warp_merge;
  legacy_work_warp_merge -> legacy_work_f_warp;
  legacy_work_f_warp -> legacy_work_f_copysform2qform;
  legacy_work_f_copysform2qform -> legacy_work_f_rename;
  legacy_work_f_rename -> legacy_work_datasink;
  legacy_work_events_file -> legacy_work_datasink;
  legacy_work_datasink -> e [arrowsize=0.9, penwidth=4, color="#DE9A00"];
}
