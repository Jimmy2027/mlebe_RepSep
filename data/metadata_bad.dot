digraph graphname {
    newrank = true;
    size="26,10";
    rankdir="LR";
    graph [fontname = "sans"];
    node [fontname = "sans", style=filled];
    edge [fontname = "sans", color=gray50];
    d_[label="Sharing", style="bold, rounded", color="#BBBBBB"];
    e_[label="Sharing", style="bold, rounded", color="#BBBBBB"];
    f_[label="Sharing", style="bold, rounded", color="#BBBBBB"];
    g_[label="Sharing", style="bold, rounded", color="#BBBBBB"];
    a[label="Analog  ", shape=cds, color="#BBBBBB", fillcolor=grey93, fontcolor="#999998"];
    b[label="FID", shape=folder, color="#BBBBBB", fillcolor=grey93];
    c[label="2D Reconstruction\n(optional)", shape=folder, color="#BBBBBB", fillcolor=grey93];
    d[label="Raw Volumetric\n +M̷e̷t̷a̷d̷a̷t̷a̷", shape=folder, color="#EF0533", fillcolor=grey93];
    e[label="Preprocessed Volumetric\n +M̷e̷t̷a̷d̷a̷t̷a̷", shape=folder, color="#EF0533", fillcolor=grey93];
    f[label="volumetric Statistic\n +M̷e̷t̷a̷d̷a̷t̷a̷", shape=folder, color="#EF0533", fillcolor=grey93];
    g[label="Plot or Summary", shape=folder, color="#BBBBBB", fillcolor=grey93];
    m0[label="Manual  ", shape=cds, color="#BBBBBB", fillcolor=grey93, fontcolor="#999998"];
    m1[label="M̷e̷t̷a̷d̷a̷t̷a̷", shape=folder, color="#EF0533", fillcolor=grey93];
    m_bad[
        label=<<FONT COLOR="#45B000">Metadata</FONT>>,
        shape=folder, color="#BBBBBB", fillcolor=grey93,
        ];
    m0_bad[label="Manual  ", shape=cds, color="#8B4513", fillcolor=grey93, fontcolor="#8B4513"];
    
    m0 -> m1 ;
    m0_bad -> m_bad[color="#8B4513"];
    m_bad:e -> d:w[minlen=3, arrowhead=none, color="#8B4513"];
    m_bad:e -> e:w[arrowhead=none, color="#8B4513"];
    m_bad:e -> f:w[arrowhead=none, color="#8B4513"];
    m_bad:e -> g:w[arrowhead=none, color="#8B4513"];
    a -> b ;
    subgraph cluster1 {
        b -> c ;
        m1;
        label = "Acquisition System";
        fontcolor = "#1873cc";
        color = "#1b81e5";
    }
    c -> d:w ;
    subgraph cluster2 {
        d -> e ;
        e -> f ;
        f -> g ;
        label = "Analysis System";
        fontcolor = "#DE9A00";
        color = "#EDA000";
    }
    d -> d_ [dir=both, minlen=2];
    e -> e_ [dir=both, minlen=2];
    f -> f_ [dir=both, minlen=2];
    g -> g_ [minlen=2];
    {rank=same; a; m0; m0_bad}
    {rank=same; c; m1; m_bad}
    {rank=same; d; d_}
    {rank=same; e; e_}
    {rank=same; f; f_}
    {rank=same; g; g_}
}
